<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora Científica Profesional</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="calculator-container">
        <div class="calculator">
            <!-- Header -->
            <div class="header">
                <h1><i class="fas fa-calculator"></i> Calculadora Profesional</h1>
                <div class="mode-toggle">
                    <button id="basicMode" class="mode-btn active">Básica</button>
                    <button id="scientificMode" class="mode-btn">Científica</button>
                    <button id="programmerMode" class="mode-btn">Programador</button>
                </div>
            </div>            <!-- Display -->
            <div class="display-container">
                <div class="history" id="history"></div>
                <div class="current-display" id="currentDisplay">0</div>
                <div class="memory-indicator" id="memoryIndicator" style="display: none;">
                    <i class="fas fa-memory"></i> M
                </div>
            </div>

            <!-- Memory Controls -->
            <div class="memory-controls">
                <button onclick="memoryClear()" class="mem-btn">MC</button>
                <button onclick="memoryRecall()" class="mem-btn">MR</button>
                <button onclick="memoryAdd()" class="mem-btn">M+</button>
                <button onclick="memorySubtract()" class="mem-btn">M-</button>
                <button onclick="memoryStore()" class="mem-btn">MS</button>
            </div>

            <!-- Basic Calculator -->
            <div id="basicCalculator" class="calculator-mode active">
                <div class="button-grid basic-grid">
                    <button onclick="clearAll()" class="btn clear-all">CE</button>
                    <button onclick="clearEntry()" class="btn clear">C</button>
                    <button onclick="backspace()" class="btn delete"><i class="fas fa-backspace"></i></button>
                    <button onclick="appendOperator('/')" class="btn operator">÷</button>
                    
                    <button onclick="appendNumber('7')" class="btn number">7</button>
                    <button onclick="appendNumber('8')" class="btn number">8</button>
                    <button onclick="appendNumber('9')" class="btn number">9</button>
                    <button onclick="appendOperator('*')" class="btn operator">×</button>
                    
                    <button onclick="appendNumber('4')" class="btn number">4</button>
                    <button onclick="appendNumber('5')" class="btn number">5</button>
                    <button onclick="appendNumber('6')" class="btn number">6</button>
                    <button onclick="appendOperator('-')" class="btn operator">-</button>
                    
                    <button onclick="appendNumber('1')" class="btn number">1</button>
                    <button onclick="appendNumber('2')" class="btn number">2</button>
                    <button onclick="appendNumber('3')" class="btn number">3</button>
                    <button onclick="appendOperator('+')" class="btn operator">+</button>                    <button onclick="toggleSign()" class="btn function">±</button>
                    <button onclick="appendNumber('0')" class="btn number">0</button>
                    <button onclick="appendNumber('.')" class="btn number">.</button>
                    <button onclick="calculate()" class="btn equals">=</button>
                </div>
            </div>

            <!-- Scientific Calculator -->
            <div id="scientificCalculator" class="calculator-mode">
                <div class="button-grid scientific-grid">
                    <!-- Row 1 -->
                    <button onclick="clearAll()" class="btn clear-all">CE</button>
                    <button onclick="clearEntry()" class="btn clear">C</button>
                    <button onclick="backspace()" class="btn delete"><i class="fas fa-backspace"></i></button>
                    <button onclick="appendOperator('/')" class="btn operator">÷</button>
                    <button onclick="appendFunction('sqrt(')" class="btn function">√</button>
                    <button onclick="appendFunction('pow(')" class="btn function">x²</button>
                    
                    <!-- Row 2 -->
                    <button onclick="appendFunction('sin(')" class="btn function">sin</button>
                    <button onclick="appendFunction('cos(')" class="btn function">cos</button>
                    <button onclick="appendFunction('tan(')" class="btn function">tan</button>
                    <button onclick="appendOperator('*')" class="btn operator">×</button>
                    <button onclick="appendFunction('log(')" class="btn function">log</button>
                    <button onclick="appendFunction('ln(')" class="btn function">ln</button>
                    
                    <!-- Row 3 -->
                    <button onclick="appendNumber('7')" class="btn number">7</button>
                    <button onclick="appendNumber('8')" class="btn number">8</button>
                    <button onclick="appendNumber('9')" class="btn number">9</button>
                    <button onclick="appendOperator('-')" class="btn operator">-</button>
                    <button onclick="appendFunction('exp(')" class="btn function">exp</button>
                    <button onclick="appendConstant('Math.PI')" class="btn constant">π</button>
                    
                    <!-- Row 4 -->
                    <button onclick="appendNumber('4')" class="btn number">4</button>
                    <button onclick="appendNumber('5')" class="btn number">5</button>
                    <button onclick="appendNumber('6')" class="btn number">6</button>
                    <button onclick="appendOperator('+')" class="btn operator">+</button>
                    <button onclick="appendFunction('factorial(')" class="btn function">n!</button>
                    <button onclick="appendConstant('Math.E')" class="btn constant">e</button>
                    
                    <!-- Row 5 -->
                    <button onclick="appendNumber('1')" class="btn number">1</button>
                    <button onclick="appendNumber('2')" class="btn number">2</button>
                    <button onclick="appendNumber('3')" class="btn number">3</button>
                    <button onclick="toggleSign()" class="btn function">±</button>
                    <button onclick="appendOperator('%')" class="btn function">%</button>
                    <button onclick="appendFunction('abs(')" class="btn function">|x|</button>
                    
                    <!-- Row 6 -->
                    <button onclick="appendNumber('0')" class="btn number zero">0</button>
                    <button onclick="appendNumber('.')" class="btn number">.</button>
                    <button onclick="calculate()" class="btn equals" colspan="3">=</button>
                </div>
            </div>

            <!-- Programmer Calculator -->
            <div id="programmerCalculator" class="calculator-mode">
                <div class="base-selector">
                    <button onclick="setBase(16)" class="base-btn active" id="hexBtn">HEX</button>
                    <button onclick="setBase(10)" class="base-btn" id="decBtn">DEC</button>
                    <button onclick="setBase(8)" class="base-btn" id="octBtn">OCT</button>
                    <button onclick="setBase(2)" class="base-btn" id="binBtn">BIN</button>
                </div>
                <div class="button-grid programmer-grid">
                    <button onclick="clearAll()" class="btn clear-all">CE</button>
                    <button onclick="clearEntry()" class="btn clear">C</button>
                    <button onclick="backspace()" class="btn delete"><i class="fas fa-backspace"></i></button>
                    <button onclick="appendOperator('/')" class="btn operator">÷</button>
                    <button onclick="appendHex('A')" class="btn hex">A</button>
                    <button onclick="appendHex('B')" class="btn hex">B</button>
                    
                    <button onclick="appendNumber('7')" class="btn number">7</button>
                    <button onclick="appendNumber('8')" class="btn number">8</button>
                    <button onclick="appendNumber('9')" class="btn number">9</button>
                    <button onclick="appendOperator('*')" class="btn operator">×</button>
                    <button onclick="appendHex('C')" class="btn hex">C</button>
                    <button onclick="appendHex('D')" class="btn hex">D</button>
                    
                    <button onclick="appendNumber('4')" class="btn number">4</button>
                    <button onclick="appendNumber('5')" class="btn number">5</button>
                    <button onclick="appendNumber('6')" class="btn number">6</button>
                    <button onclick="appendOperator('-')" class="btn operator">-</button>
                    <button onclick="appendHex('E')" class="btn hex">E</button>
                    <button onclick="appendHex('F')" class="btn hex">F</button>
                    
                    <button onclick="appendNumber('1')" class="btn number">1</button>
                    <button onclick="appendNumber('2')" class="btn number">2</button>
                    <button onclick="appendNumber('3')" class="btn number">3</button>
                    <button onclick="appendOperator('+')" class="btn operator">+</button>
                    <button onclick="bitwiseAnd()" class="btn bitwise">AND</button>
                    <button onclick="bitwiseOr()" class="btn bitwise">OR</button>
                    
                    <button onclick="appendNumber('0')" class="btn number zero">0</button>
                    <button onclick="calculate()" class="btn equals">=</button>
                    <button onclick="bitwiseXor()" class="btn bitwise">XOR</button>
                    <button onclick="bitwiseNot()" class="btn bitwise">NOT</button>
                </div>
            </div>

            <!-- History Panel -->
            <div class="history-panel" id="historyPanel">
                <div class="history-header">
                    <h3><i class="fas fa-history"></i> Historial</h3>
                    <button onclick="clearHistory()" class="clear-history-btn">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
                <div class="history-list" id="historyList">
                    <p class="no-history">No hay operaciones en el historial</p>
                </div>
            </div>

            <!-- Footer -->
            <div class="footer">
                <button onclick="toggleHistory()" class="footer-btn">
                    <i class="fas fa-history"></i> Historial
                </button>
                <button onclick="toggleTheme()" class="footer-btn" id="themeToggleBtn" title="Cambiar tema">
                    <i class="fas fa-moon" id="themeIcon"></i> <span id="themeText">Oscuro</span>
                </button>
                <button onclick="showAbout()" class="footer-btn">
                    <i class="fas fa-info-circle"></i> Acerca de
                </button>
            </div>
        </div>
    </div>

    <!-- Modal About -->
    <div id="aboutModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2><i class="fas fa-calculator"></i> CalcPro v2.0</h2>
            <p>Calculadora científica avanzada con múltiples modos:</p>
            <ul>
                <li><strong>Básica:</strong> Operaciones aritméticas fundamentales</li>
                <li><strong>Científica:</strong> Funciones trigonométricas, logarítmicas y más</li>
                <li><strong>Programador:</strong> Conversiones de base y operaciones bit a bit</li>
            </ul>
            <p>Desarrollada con HTML5, CSS3 y JavaScript avanzado.</p>
        </div>
    </div>

    <script src="js/calculator.js"></script>
    <script src="js/scientific.js"></script>
    <script src="js/programmer.js"></script>
    <script src="js/memory.js"></script>
    <script src="js/themes.js"></script>
    <script>
// Actualiza el icono y texto del botón de tema según el modo actual
function updateThemeButton() {
    const isDark = document.body.classList.contains('dark-theme');
    const icon = document.getElementById('themeIcon');
    const text = document.getElementById('themeText');
    if (isDark) {
        icon.className = 'fas fa-sun';
        text.textContent = 'Claro';
    } else {
        icon.className = 'fas fa-moon';
        text.textContent = 'Oscuro';
    }
}
// Llama a updateThemeButton al cambiar el tema
const originalToggleTheme = window.toggleTheme;
window.toggleTheme = function() {
    originalToggleTheme();
    updateThemeButton();
};
// Llama a updateThemeButton al cargar la página
window.addEventListener('DOMContentLoaded', updateThemeButton);
</script>
</body>
</html>
